<template name="power">
  {{#if editable}}
    {{#if rightToVote}}
      <div class="w-clearfix rosca rosca-setter">
        {{> bar _id=_id editable=editable}}
        {{> capital _id=_id user=user}}
      </div>
    {{else}}
      <div class="w-clearfix rosca rosca-setter">
        {{> bar _id=_id editable=false}}
        {{> capital _id=_id user=user}}
      </div>
    {{/if}}
  {{else}}
    <div class="w-clearfix rosca rosca-id {{styleClass}}">
      {{> bar _id=_id editable=editable}}
      {{> capital _id=_id user=user}}
    </div>
  {{/if}}
</template>

<template name="capital">
  <div class='vote-available label-votes'>
    <div class="stage {{style 'available'}}">
      <div class='label label-corner'>
        {{{getVotes 'available'}}}
      </div>
    </div>
    <div class="stage {{style 'inBallot'}}">
      <div class='label label-corner'>
        {{{getVotes 'inBallot'}}}
      </div>
    </div>
    <div class="stage {{style 'allocateQuantity'}}">
      <div class='label label-corner'>
        {{{getVotes 'allocateQuantity'}}}
      </div>
    </div>
  </div>
  <div class='vote-allocated label-votes'>
    <div class="stage {{style 'placed'}}">
      <div class='label label-corner'>
        {{{getVotes 'placed'}}}
      </div>
    </div>
  </div>
</template>

<template name="bar">
  <div id="voteBar-{{_id}}" class="w-clearfix result vote-bar">
    <div id="voteSlider-{{_id}}" class="result-bar vote-bar" style=" width: {{inBallot}} ">
      <div id="voteHandle-{{_id}}" class="handle"></div>
    </div>
    <div class="result-bar vote-bar vote-bar-allocated"  style=" width: {{placed}} "></div>
  </div>
</template>
